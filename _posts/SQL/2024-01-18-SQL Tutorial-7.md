---
layout: post
title: 7. 집합 연산자
categories: SQL
tags: [DB, SQL]
---

## 집합 연산자
- 둘 이상의 Query 결과를 하나의 결과로 표시
- 위에서 아래 순서로 연산 수행

|연산자|설명|
|-|-|
|UNION|중복 행을 제거하고 모든 행 반환, 합집합|
|UNION ALL|중복 제거하지 않고 모든 행 반환|
|INTERSECT|공통으로 존재하는 행 반환, 교집합|
|MINUS|첫 번째와 두 번째의 차집합|

- UNION ALL의 경우 위에서 아래로 결과가 쌓임
  - 나머지는 새로 정렬됨

### 집합 연산자에서 칼럼
- 모든 쿼리의 칼럼의 수, 칼럼의 데이터 타입은 같아야 함
- 맞지 않는 경우에는 NULL을 입력하거나 명시적 데이터 타입 변환 필요

### 집합 연산자에서 ORDER BY
- ORDER BY는 항상 맨 끝에 1회만 가능
- 하나의 칼럼이 2개 이상의 쿼리에서 NULL로 맵핑되는 경우 ORDER BY 지정 불가능
  - 칼럼의 위치 순서값을 이용해서 정렬해야 함

### 최근 집합연산자의 근황
- 보통 그룹별 소계나 전체 합계를 구하는 데에 사용
- Rollup, Cube의 등장으로 입지가 좁아짐